<div class="box-collapse">
  <div class="title-box-d">
    <h3 class="title-d">Ricerca Proprietà</h3>
  </div>
  <span class="close-box-collapse right-boxed ion-ios-close"></span>
  
  <%  var parsed_params = JSON.parse(searchParams) %>
  <div class="box-collapse-wrap form">
    <form class="form-a" action="/ricercaproprieta" id="ricerca" method="post">
      <div class="row">
        <div class="col-md-6 mb-2">
          <div class="form-group">
            <label for="Type">Categoria</label>
            <select class="form-control form-control-lg form-control-a" id="category" name="category">
			  <option hidden disabled selected value>Seleziona</option>
			  <% for(var i=0; i < parsed_params[0].length; i++) { %>
				<option><%= parsed_params[0][i].categoria %></option>
			  <% } %>
            </select>
          </div>
        </div>
        <div class="col-md-6 mb-2">
          <div class="form-group">
            <label for="type">Tipo</label>
            <select class="form-control form-control-lg form-control-a" id="type" name="type">
			  <option hidden disabled selected value>Seleziona</option>
              <% for(var i=0; i < parsed_params[1].length; i++) { %>
				<option><%= parsed_params[1][i].tipo %></option>
			  <% } %>
            </select>
          </div>
        </div>
		<div class="col-md-6 mb-2">
          <div class="form-group">
            <label for="city">Città</label>
            <select class="form-control form-control-lg form-control-a" id="city" name="city">
			  <option hidden disabled selected value>Seleziona</option>
              <% for(var i=0; i < parsed_params[2].length; i++) { %>
				<option><%= parsed_params[2][i].citta %></option>
			  <% } %>
            </select>
          </div>
        </div>
        <div class="col-md-6 mb-2">
          <div class="form-group">
		  <label for="services">Servizi</label> <br> 
		  <% for(var i=0; i < parsed_params[3].length; i++) { %>
			 <input type="checkbox" id="service_1" name="service_1" value="air"> <%= parsed_params[3][i].nomeServizio %> <br>	
		  <% } %>
		  
                
          </div>
        </div>
        <div class="col-md-6 mb-2">
          <div class="form-group">
            <label for="price">Prezzo minimo: <p><span id="priceminvalue"></span></p></label>
            <input type="range" min="1000" max="1000000" value="1000" class="slider" id="pricemin" name="pricemin">
          </div>
        </div>
		<div class="col-md-6 mb-2">
          <div class="form-group">
            <label for="price">Prezzo massimo: <p><span id="pricemaxvalue"></span></p></label>
            <input type="range" min="10000" max="1000000" value="1000000" class="slider" id="pricemax" name="pricemax">
          </div>
        </div>
        <div class="col-md-12">
          <button type="submit" class="btn btn-b" id="tastoCerca">Cerca Proprietà</button>
        </div>
      </div>
    </form>
  </div>
</div>

<nav class="navbar navbar-default navbar-trans navbar-expand-lg fixed-top">
    <div class="container">
      <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarDefault" aria-controls="navbarDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <a class="navbar-brand text-brand" href="/home">Agenzia<span class="color-b">Immobiliare</span></a>
      <button type="button" class="btn btn-link nav-search navbar-toggle-box-collapse d-md-none" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-expanded="false">
        <span class="fa fa-search" aria-hidden="true"></span>
      </button>
      <div class="navbar-collapse collapse justify-content-center" id="navbarDefault">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="/home">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/appuntamenti">Appuntamenti</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Clienti
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
			  <a class="dropdown-item" href="/acquirenti">Acquirente</a>
			  <a class="dropdown-item" href="/proprietari">Proprietari</a>
			  <a class="dropdown-item" href="/inseriscicliente">Inserisci cliente</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="/proprieta" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Proprietà
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
			  <a class="dropdown-item" href="/proprieta">Tutte</a>
			  <a class="dropdown-item" href="/proprieta/immobili/affitto">Immobili in affitto</a>
              <a class="dropdown-item" href="/proprieta/immobili/vendita">Immobili in vendita</a>
              <a class="dropdown-item" href="/proprieta/fondi/affitto">Fondi Commerciali in affitto</a>
              <a class="dropdown-item" href="/proprieta/fondi/vendita">Fondi Commerciali in vendita </a>
            </div>
          </li>
		  <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Il Team
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
			  <a class="dropdown-item" href="/agenti">Agenti</a>
			  <a class="dropdown-item" href="/contrattiAffitto">Contratti Affitto</a>
			  <a class="dropdown-item" href="/contrattiVendita">Contratti Vendita</a>
            </div>
          </li>
		 </ul>
      </div>
	  <button type="button" class="btn btn-b-n d-none d-md-block" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-expanded="false">
        <a href="/logout" style="color:white"><span class="" aria-hidden="true" >Logout</span></a>
      </button>
      <button type="button" class="btn btn-b-n navbar-toggle-box-collapse d-none d-md-block" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-expanded="false">
        <span class="fa fa-search" aria-hidden="true"></span>
      </button>
    </div>
  </nav>
<!--  
validation del form con jquery, rimossa perchè non ci sono campi obbligatori
se necessaria, cambiare il type del button di submit in 'tastoCerca' e aggiungere function=searchValidate() 


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script>
  function searchValidate(){
	if( $('#category').val() != undefined  ){
		$('#ricerca').submit();
	} 
	}
	$('#tastoCerca').click(function( event ){
	event.preventDefault();
	searchValidate();
		
	});
</script>	-->
<script>	
	var slidermin = document.getElementById("pricemin");
	var slidermax = document.getElementById("pricemax");
	var outputmin = document.getElementById("priceminvalue");
	var outputmax = document.getElementById("pricemaxvalue");
	outputmin.innerHTML = slidermin.value;
	outputmax.innerHTML = slidermax.value;
	
	slidermin.oninput = function() {
	  outputmin.innerHTML = this.value;
	}
	slidermax.oninput = function() {
	  outputmax.innerHTML = this.value;
	}
</script>